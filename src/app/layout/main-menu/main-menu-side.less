@import "../../../styles/variables.less";

.app-menu-side {
	max-width: var(--app-page-width);
	margin: 0 auto;
	position: relative;
	height: 0;
	z-index: 200;
	overflow: visible;
	border: 1px solid red;

	.app-main-menu-container {
		width: @app-menu-width + 6px;
		z-index: 100;
		position: fixed;
		height: 100vh;
		top: 0;
		border-right: 6px solid var(--app-menu-separator);
		line-height: @app-menu-height;
		display: flex;
		flex-flow: column wrap;
	}

	.app-main-menu {
		position: absolute;
		top: 0;
		left: 0;
		line-height: @app-menu-height;
		height: 100vh;
		width: @app-menu-width;
		display: flex;
		flex-flow: column wrap;
		border: none;
		z-index: 100;
		//transition: all .2s ease;
		background-color: var(--app-menu-background);
	}

	.app-menu-expander {
		height: 24px;
		line-height: 24px;
		font-size: var(--app-small-font-size);
		padding: 0;
		display: block;
		width: @app-menu-width;
		color: var(--app-color);
		cursor: pointer;
		transition: all .1s ease;
		margin: 8px 0;

		.app-icon {
			width: var(--app-small-font-size);
			height: var(--app-small-font-size);
			transition: color .1s ease, transform .4s ease;
			transform-origin: center center;
			position: absolute;
			top: 7px;
			left: 27px;
		}

		&:hover {
			color: var(--app-menu-hover-text-color);
		}

		position: relative;

		i {
			position: absolute;
			font-style: normal;
			display: inline-block;
			top: 0;
			left: 42px;
			height: 24px;
			line-height: 24px;
			margin-left: 10px;
			opacity: 0;
			transform: scaleX(0.01) scaleY(0.5);
			transition: all .2s ease;
			transform-origin: left center;
		}
	}

	.app-menu-backdrop {
		position: fixed;
		top: 0;
		width: 100%;
		bottom: 0;
		background-color: rgba(0, 0, 0, 0.1);
		opacity: 0;
		transform: scaleX(.7);
		transform-origin: top left;
		pointer-events: none;
		transition: opacity .2s linear, transform .5s ease;

		.app-menu-expanded & {
			opacity: 1;
			transform: scaleX(1);
			pointer-events: all;
		}
	}

	.app-main-menu-container.app-menu-expanded {
		.app-menu-expander {
			width: @app-menu-width-expanded;
			padding: 0;

			.app-icon {
				transform: rotate(180deg);
			}

			i {
				opacity: 1;
				transform: scaleX(1) scaleY(1);
			}
		}

		.app-main-menu {
			width: @app-menu-width-expanded;
			box-shadow: 8px 0 6px rgba(0, 0, 0, .1);

			.app-menu-item {
				a {
					align-content: flex-start;
				}

				.app-menu-title-parts {
					transform: scaleX(1) scaleY(1);
					opacity: 1;
				}

				.app-icon {
					transform: scale(1.1);
				}

				height: auto !important;
				min-height: auto !important;

				.app-menu-sub-items {
					display: flex;
				}
			}
		}
	}

	.app-menu-stub {
		width: auto;
		flex-grow: 2;
		cursor: default;
		pointer-events: none;
	}

	.bottom-menu-spacer {
		height: 8px;
	}

}
